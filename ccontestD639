#include <bits/stdc++.h>
#define ll long long
#define vi vector<int>
#define vvi vector<vi>
#define vll vector<ll>
#define mp make_pair
#define fst first
#define snd second6
#define sz(x) int(s.size())
#define fore(i,a,b) for(int i=a;i<b;i++)
#define all(x) x.begin(),x.end()
using namespace std;
vector<vector<bool>> used;
vector<vector<char>> v;
vvi group;
int n,m;
vi df={-1,0,1,0},dc={0,1,0,-1};
void dfs(int f,int c,int g){
    used[f][c]=true;
    group[f][c]=g;
    fore(i,0,4){
        if(f+df[i]>0 and f+df[i]<n+1 and c+dc[i]>0 and c+dc[i]<m+1){
            if(v[f+df[i]][c+dc[i]]=='#' and !used[f+df[i]][c+dc[i]]) dfs(f+df[i],c+dc[i],g);
        }
    }
}
int main() {
    cin>>n>>m;
    v.resize(n+1,vector<char>(m+1));
    bool z=true;
    fore(i,1,n+1) fore(j,1,m+1) {
        cin>>v[i][j];
        if(v[i][j]=='#') z=false;
    }
    if(z) {
        cout<<0;
        return 0;
    }
    fore(i,1,n+1) {
        bool f=false;
        fore(j,1,m+1){
            if(v[i][j]=='#'){
                f=true;
                break;
            }
        }
        if(!f){
            cout<<-1;
            return 0;
        }
    }
     fore(j,1,m+1) {
        bool c=false;
        fore(i,1,m+1){
            if(v[i][j]=='#'){
                c=true;
                break;
            }
        }
        if(!c){
            cout<<-1;
            return 0;
        }
    }
    int g=0;
    group.resize(n+1,vi(m+1));
    used.resize(n+1,vector<bool>(m+1,false));
    fore(i,1,n+1) fore(j,1,m+1){
        if(!used[i][j] and v[i][j]=='#') {
            g++;
            dfs(i,j,g);
        }
    }
    fore(i,1,n+1){
        bool aux1=false,aux2=false;
        int gant;
        fore(j,1,m+1){
        if(v[i][j]=='#') {
            if(aux2 and group[i][j]==gant){
                cout<<-1;
                cout<<"x";
                return 0;
            }
            aux1=true;
            gant=group[i][j];
        }
        else if(aux1){
            aux2=true;
        }
        }
    }
    fore(j,1,m+1) {
        bool aux1=false,aux2=false;
        int gant;
        fore(i,1,n+1){
        if(v[i][j]=='#') {
            if(aux2 and group[i][j]==gant){
                cout<<-1;
                return 0;
            }
            aux1=true;
            gant=group[i][j];
        }
        else if(aux1){
            aux2=true;
        }
      }
    }
    cout<<g;
	return 0;
}
